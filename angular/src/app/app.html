<nz-layout
  (drop)="onDragAndDropFileSubmit($event)"
  (dragover)="onDragAndDropFileOver($event)"
  (dragleave)="onDragAndDropFileLeave($event)"
  [class.drag-over]="isDragging()"
>
  <app-header
    [title]="title()"
    (addAttachment)="showModal()"
  />
  <nz-content>
    <div class="site-layout-content">
      <nz-splitter>
        <nz-splitter-panel nzDefaultSize="50%" nzMin="10%" nzMax="90%">
          <app-attachments-list/>
        </nz-splitter-panel>
        <nz-splitter-panel>
          <div class="layout-right">
            <app-attachment-details
              [(isEditing)]="isEditingAttachmentDetails"
              (toggleEdit)="toggleEdit()"
            />
          </div>
        </nz-splitter-panel>
      </nz-splitter>
    </div>
  </nz-content>

  <div class="drop-overlay" *ngIf="isDragging()">
    <div class="drop-message">
      <span class="drop-icon">ðŸ“Ž</span>
      <span>Drop file to add attachment</span>
    </div>
  </div>
</nz-layout>

<app-add-attachment-modal
  [(visible)]="isAddAttachmentModelVisible"
  [(newAttachmentName)]="newAttachmentName"
  [(newAttachmentFileName)]="newAttachmentFileName"
  [droppedFile]="droppedFile()"
  (cancel)="handleCancel()"
  (submit)="onSubmitNewAttachmentForm($event)"
/>
